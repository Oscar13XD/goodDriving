@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Recuperar Contraseña";
}
<head>
    <link rel="stylesheet" href="~/css/IniciarSesionIndex.css" asp-append-version="true" />
</head>
<body>
    <div class="contenedor">
        <form id="enviarEmail">
            <div class="titulo">Recuperar contraseña</div>
            <div class="subtitulo">Ingrese su correo electronico para enviar el correo de recuperacion de contraseña</div>
            <div class="mb-3">
                <input type="email" class="form-control" required aria-describedby="emailHelp" placeholder="Correo" name="email">
            </div>
            <button type="submit" class="ingresar">Enviar</button>
        </form>
    </div>
    @section Scripts{
    <script>
        $('#enviarEmail').submit(function(e){
            $.ajax({
                type: "POST",
                data: $('#enviarEmail').serialize(),
                url: '@Url.Action("RecuperarPassword","IniciarSesion")',
                success: function(respuesta){
                    switch(respuesta){
                        case "no existe":
                            Swal.fire({
                                icon: 'error',
                                title: 'Email no existe',
                                text: 'El email no es valido'
                            });
                            break;
                        default:
                            console.log(respuesta);
                            break;
                    }
                }
            });
            e.preventDefault();
        });
    </script>
    }
</body>

